{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import'../assets/css/profile_style.css';import{isTokenValid}from'./Auth';/**\n * UserProfile Component\n * \n * This component displays and allows users to update their profile information, including \n * username, email, name, biography, and profile picture. Additionally, it provides a form \n * to change the user's password.\n *\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserProfile=()=>{// State to hold user profile data, including biography and profile image\nconst[userData,setUserData]=useState({username:'',email:'',first_name:'',last_name:'',profile_image:null,biography:''});const[imagePreview,setImagePreview]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[successMessage,setSuccessMessage]=useState('');const[passwordData,setPasswordData]=useState({current_password:'',new_password:'',confirm_new_password:''});const[passwordError,setPasswordError]=useState(null);const[passwordSuccessMessage,setPasswordSuccessMessage]=useState('');const navigate=useNavigate();// Fetch user profile data on component mount\nuseEffect(()=>{const fetchUserData=async()=>{try{// Retrieve token from local storage to authenticate the request\nconst token=localStorage.getItem('token');// If no token, redirect to login page\nif(!isTokenValid()){navigate('/api/login/');return;}// API call to fetch user profile data\nconst response=await axios.get('/api/user/profile/',{headers:{Authorization:`Bearer ${token}`}});setUserData(response.data);setImagePreview(response.data.profile_image);}catch(error){// Handle errors during data fetch and log them\nsetError('Failed to fetch user data.');console.error(\"Error fetching user data\",error);navigate('/register');}finally{setLoading(false);}};// Call the function to fetch user data\nfetchUserData();},[navigate]);// Handle changes in input fields (e.g., username, email, biography, etc.)\nconst handleChange=e=>{setUserData({...userData,[e.target.name]:e.target.value});};// Handle profile image file input change and generate preview\nconst handleImageChange=e=>{const file=e.target.files[0];setUserData({...userData,profile_image:file});// Generate a URL for the image preview if a file is selected\nif(file){setImagePreview(URL.createObjectURL(file));}};// Handle form submission to update profile\nconst handleSubmit=async e=>{e.preventDefault();// Create a FormData object to send the profile data as multipart/form-data\nconst formData=new FormData();formData.append('username',userData.username);formData.append('email',userData.email);formData.append('first_name',userData.first_name);formData.append('last_name',userData.last_name);formData.append('biography',userData.biography);// Check if a new image file is selected and append it\nif(userData.profile_image instanceof File){formData.append('profile_image',userData.profile_image);}try{// Get token from localStorage for authentication\nconst token=localStorage.getItem('token');// API call to update user profile\nawait axios.put('/api/user/profile/',formData,{headers:{Authorization:`Bearer ${token}`,'Content-Type':'multipart/form-data'}});// Display success message after successful update\nsetSuccessMessage('Profile updated successfully!');setTimeout(()=>{window.location.reload();},2000);}catch(error){// Handle errors during profile update\nsetError('Failed to update profile.');console.error(\"Error updating profile\",error);}};// Handle password change input\nconst handlePasswordChange=e=>{setPasswordData({...passwordData,[e.target.name]:e.target.value});};// Handle password change form submission\nconst handlePasswordSubmit=async e=>{e.preventDefault();if(passwordData.new_password!==passwordData.confirm_new_password){setPasswordError('New passwords do not match.');return;}try{const token=localStorage.getItem('token');await axios.post('/user/change-password/',{current_password:passwordData.current_password,new_password:passwordData.new_password},{headers:{Authorization:`Bearer ${token}`}});setPasswordSuccessMessage('Password changed successfully!');setPasswordError(null);// Clear any previous errors\nsetTimeout(()=>{window.location.reload();},2000);}catch(error){setPasswordError('Failed to change password.');}};// If loading, display a loading message\nif(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}// If an error occurs, display the error message\nif(error){return/*#__PURE__*/_jsx(\"div\",{children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column align-items-center mt-5\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center my-5\",children:[\"Welcome \",userData.username]}),successMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success w-50 w-md-100 text-center\",children:successMessage}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"w-50 w-md-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group text-center\",children:[imagePreview&&/*#__PURE__*/_jsx(\"img\",{src:imagePreview,alt:\"Profile\",className:\"img-fluid rounded-circle mb-3\",style:{width:'150px',height:'150px'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"custom-file-upload mb-5\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"fileInput\",className:\"file-input\",onChange:handleImageChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fileInput\",className:\"btn btn-primary\",children:\"Upload File\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"username\",value:userData.username,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",name:\"email\",value:userData.email,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"first_name\",value:userData.first_name,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"last_name\",value:userData.last_name,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mt-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Biography\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",name:\"biography\",rows:\"4\",value:userData.biography||\"\",onChange:handleChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center m-5\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary mt-3\",children:\"Save Changes\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-50 w-md-100 mt-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mt-5\",children:\"Change Password\"}),passwordSuccessMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success mt-3 text-center\",children:passwordSuccessMessage}),passwordError&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger mt-3 text-center\",children:passwordError})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlePasswordSubmit,className:\"w-50 w-md-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Current Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",name:\"current_password\",value:passwordData.current_password,onChange:handlePasswordChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",name:\"new_password\",value:passwordData.new_password,onChange:handlePasswordChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Confirm New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",name:\"confirm_new_password\",value:passwordData.confirm_new_password,onChange:handlePasswordChange})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center m-5\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary mt-3\",children:\"Change Password\"})})]})]});};export default UserProfile;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","isTokenValid","jsx","_jsx","jsxs","_jsxs","UserProfile","userData","setUserData","username","email","first_name","last_name","profile_image","biography","imagePreview","setImagePreview","loading","setLoading","error","setError","successMessage","setSuccessMessage","passwordData","setPasswordData","current_password","new_password","confirm_new_password","passwordError","setPasswordError","passwordSuccessMessage","setPasswordSuccessMessage","navigate","fetchUserData","token","localStorage","getItem","response","get","headers","Authorization","data","console","handleChange","e","target","name","value","handleImageChange","file","files","URL","createObjectURL","handleSubmit","preventDefault","formData","FormData","append","File","put","setTimeout","window","location","reload","handlePasswordChange","handlePasswordSubmit","post","children","className","onSubmit","src","alt","style","width","height","type","id","onChange","htmlFor","rows"],"sources":["/Users/marcelotavares/Desktop/newBooks/newBooksFrontend/review-platform-frontend/src/components/EditProfile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport '../assets/css/profile_style.css';\nimport { isTokenValid } from './Auth';\n\n\n/**\n * UserProfile Component\n * \n * This component displays and allows users to update their profile information, including \n * username, email, name, biography, and profile picture. Additionally, it provides a form \n * to change the user's password.\n *\n */\n\nconst UserProfile = () => {\n    // State to hold user profile data, including biography and profile image\n    const [userData, setUserData] = useState({\n        username: '',\n        email: '',\n        first_name: '',\n        last_name: '',\n        profile_image: null,\n        biography: ''\n    });\n    const [imagePreview, setImagePreview] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [successMessage, setSuccessMessage] = useState('');\n    const [passwordData, setPasswordData] = useState({\n        current_password: '',\n        new_password: '',\n        confirm_new_password: ''\n    });\n    const [passwordError, setPasswordError] = useState(null);\n    const [passwordSuccessMessage, setPasswordSuccessMessage] = useState('');\n    const navigate = useNavigate();\n\n    // Fetch user profile data on component mount\n    useEffect(() => {\n        const fetchUserData = async () => {\n            try {\n                // Retrieve token from local storage to authenticate the request\n                const token = localStorage.getItem('token');\n\n                // If no token, redirect to login page\n                if (!isTokenValid()) {\n                    navigate('/api/login/');\n                    return;\n                }\n\n                // API call to fetch user profile data\n                const response = await axios.get('/api/user/profile/', {\n                    headers: {\n                        Authorization: `Bearer ${token}`,\n                    },\n                });\n\n\n                setUserData(response.data);\n                setImagePreview(response.data.profile_image);\n            } catch (error) {\n                // Handle errors during data fetch and log them\n                setError('Failed to fetch user data.');\n                console.error(\"Error fetching user data\", error);\n                navigate('/register');\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        // Call the function to fetch user data\n        fetchUserData();\n    }, [navigate]);\n\n    // Handle changes in input fields (e.g., username, email, biography, etc.)\n    const handleChange = (e) => {\n        setUserData({\n            ...userData,\n            [e.target.name]: e.target.value\n        });\n    };\n\n    // Handle profile image file input change and generate preview\n    const handleImageChange = (e) => {\n        const file = e.target.files[0];\n        setUserData({ ...userData, profile_image: file });\n\n        // Generate a URL for the image preview if a file is selected\n        if (file) {\n            setImagePreview(URL.createObjectURL(file));\n        }\n    };\n\n    // Handle form submission to update profile\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        // Create a FormData object to send the profile data as multipart/form-data\n        const formData = new FormData();\n        formData.append('username', userData.username);\n        formData.append('email', userData.email);\n        formData.append('first_name', userData.first_name);\n        formData.append('last_name', userData.last_name);\n        formData.append('biography', userData.biography);\n\n        // Check if a new image file is selected and append it\n        if (userData.profile_image instanceof File) {\n            formData.append('profile_image', userData.profile_image);\n        }\n\n        try {\n            // Get token from localStorage for authentication\n            const token = localStorage.getItem('token');\n\n            // API call to update user profile\n            await axios.put('/api/user/profile/', formData, {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                    'Content-Type': 'multipart/form-data'\n                },\n            });\n\n            // Display success message after successful update\n            setSuccessMessage('Profile updated successfully!');\n            setTimeout(() => {\n                window.location.reload();\n            }, 2000);\n        } catch (error) {\n            // Handle errors during profile update\n            setError('Failed to update profile.');\n            console.error(\"Error updating profile\", error);\n        }\n    };\n\n    // Handle password change input\n    const handlePasswordChange = (e) => {\n        setPasswordData({\n            ...passwordData,\n            [e.target.name]: e.target.value\n        });\n    };\n\n    // Handle password change form submission\n    const handlePasswordSubmit = async (e) => {\n        e.preventDefault();\n        if (passwordData.new_password !== passwordData.confirm_new_password) {\n            setPasswordError('New passwords do not match.');\n            return;\n        }\n\n        try {\n            const token = localStorage.getItem('token');\n            await axios.post('/user/change-password/', {\n                current_password: passwordData.current_password,\n                new_password: passwordData.new_password\n            }, {\n                headers: {\n                    Authorization: `Bearer ${token}`\n                }\n            });\n\n            setPasswordSuccessMessage('Password changed successfully!');\n            setPasswordError(null); // Clear any previous errors\n            setTimeout(() => {\n                window.location.reload();\n            }, 2000);\n        } catch (error) {\n            setPasswordError('Failed to change password.');\n        }\n    };\n\n    // If loading, display a loading message\n    if (loading) {\n        return <div>Loading...</div>;\n    }\n\n    // If an error occurs, display the error message\n    if (error) {\n        return <div>{error}</div>;\n    }\n\n    return (\n        <div className=\"d-flex flex-column align-items-center mt-5\">\n            <h1 className=\"text-center my-5\">Welcome {userData.username}</h1>\n\n            {/* Display success message after updating profile */}\n            {successMessage && <div className=\"alert alert-success w-50 w-md-100 text-center\">{successMessage}</div>}\n\n            <form onSubmit={handleSubmit} className=\"w-50 w-md-100\">\n                <div className=\"form-group text-center\">\n                    {/* Display profile image preview if available */}\n                    {imagePreview && (\n                        <img\n                            src={imagePreview}\n                            alt=\"Profile\"\n                            className=\"img-fluid rounded-circle mb-3\"\n                            style={{ width: '150px', height: '150px' }}\n                        />\n                    )}\n\n                    {/* Custom file upload button */}\n                    <div className=\"custom-file-upload mb-5\">\n                        <input\n                            type=\"file\"\n                            id=\"fileInput\"\n                            className=\"file-input\"\n                            onChange={handleImageChange}\n                        />\n                        <label htmlFor=\"fileInput\" className=\"btn btn-primary\">Upload File</label>\n                    </div>\n                </div>\n\n                {/* Form fields to update profile data */}\n                <div className=\"form-group\">\n                    <label>Username</label>\n                    <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        name=\"username\"\n                        value={userData.username}\n                        onChange={handleChange}\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label>Email</label>\n                    <input\n                        type=\"email\"\n                        className=\"form-control\"\n                        name=\"email\"\n                        value={userData.email}\n                        onChange={handleChange}\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label>First Name</label>\n                    <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        name=\"first_name\"\n                        value={userData.first_name}\n                        onChange={handleChange}\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label>Last Name</label>\n                    <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        name=\"last_name\"\n                        value={userData.last_name}\n                        onChange={handleChange}\n                    />\n                </div>\n\n                {/* Textarea for biography input */}\n                <div className=\"form-group mt-3\">\n                    <label>Biography</label>\n                    <textarea\n                        className=\"form-control\"\n                        name=\"biography\"\n                        rows=\"4\"\n                        value={userData.biography || \"\"}\n                        onChange={handleChange}\n                    />\n                </div>\n\n                {/* Save changes button */}\n                <div className=\"d-flex justify-content-center align-items-center m-5\">\n                    <button type=\"submit\" className=\"btn btn-primary mt-3\">Save Changes</button>\n                </div>\n            </form>\n\n            {/* Password change form */}\n            <div className=\"w-50 w-md-100 mt-5\">\n                <h2 className=\"text-center mt-5\">Change Password</h2>\n                {passwordSuccessMessage && <div className=\"alert alert-success mt-3 text-center\">{passwordSuccessMessage}</div>}\n                {passwordError && <div className=\"alert alert-danger mt-3 text-center\">{passwordError}</div>}\n            </div>\n            <form onSubmit={handlePasswordSubmit} className=\"w-50 w-md-100\">\n                <div className=\"mt-4\">\n                    <div className=\"form-group\">\n                        <label>Current Password</label>\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            name=\"current_password\"\n                            value={passwordData.current_password}\n                            onChange={handlePasswordChange}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>New Password</label>\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            name=\"new_password\"\n                            value={passwordData.new_password}\n                            onChange={handlePasswordChange}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Confirm New Password</label>\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            name=\"confirm_new_password\"\n                            value={passwordData.confirm_new_password}\n                            onChange={handlePasswordChange}\n                        />\n                    </div>\n                </div>\n\n                <div className=\"d-flex justify-content-center align-items-center m-5\">\n                    <button type=\"submit\" className=\"btn btn-primary mt-3\">Change Password</button>\n                </div>\n            </form>\n        </div>\n    );\n};\n\nexport default UserProfile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}