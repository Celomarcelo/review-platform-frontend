{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{Link}from'react-router-dom';import'../assets/css/login_style.css';/**\n * Login Component\n * \n * This component handles the login process for users. It captures the user's\n * username and password, sends the login request to the server, and processes\n * the response. If successful, it stores the authentication token and redirects \n * the user to the homepage. It also provides a link for users to register if \n * they do not have an account.\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const navigate=useNavigate();const[passwordError,setError]=useState(null);/**\n     * handleSubmit\n     * \n     * This function is triggered when the login form is submitted. It prevents the\n     * default form submission behavior, sends a POST request to the server with \n     * the username and password, and handles the server response.\n     */const handleSubmit=event=>{event.preventDefault();// Prevents default form submission\n// Send POST request to the login endpoint\naxios.post('/api/login/',{username,// Send username from the form input\npassword// Send password from the form input\n}).then(response=>{// Store the authentication token in localStorage\nlocalStorage.setItem('token',response.data.access);// Stores the user ID in localStorage\nlocalStorage.setItem('userId',response.data.user.id);// Redirect the user to the homepage after successful login\nnavigate('/');}).catch(error=>{// Handle login failure by displaying an error message\nconsole.error(\"Login Error:\",error);setError('Enter with a valid ID or password.');});};return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center align-items-center\",style:{height:'100vh'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",style:{marginRight:'150px'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Books&Films\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Share ideas about books and films!\"})]}),/*#__PURE__*/_jsx(\"form\",{className:\"p-3\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 custom_bg rounded p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"fs-1\",children:\"Login\"}),passwordError&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger mt-3 text-center\",children:passwordError})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control form-control-lg\",placeholder:\"Username\",value:username,onChange:e=>setUsername(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control form-control-lg\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-lg\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center m-4\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account yet? You can register\",/*#__PURE__*/_jsx(Link,{className:\"text-primary\",to:\"/register\",children:\" here\"})]})})]})})]});};export default Login;","map":{"version":3,"names":["React","useState","axios","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","Login","username","setUsername","password","setPassword","navigate","passwordError","setError","handleSubmit","event","preventDefault","post","then","response","localStorage","setItem","data","access","user","id","catch","error","console","className","style","height","children","marginRight","onSubmit","type","placeholder","value","onChange","e","target","to"],"sources":["/Users/marcelotavares/Desktop/newBooks/newBooksFrontend/review-platform-frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport '../assets/css/login_style.css';\n\n/**\n * Login Component\n * \n * This component handles the login process for users. It captures the user's\n * username and password, sends the login request to the server, and processes\n * the response. If successful, it stores the authentication token and redirects \n * the user to the homepage. It also provides a link for users to register if \n * they do not have an account.\n */\nconst Login = () => {\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const navigate = useNavigate();\n    const [passwordError, setError] = useState(null);\n\n    /**\n     * handleSubmit\n     * \n     * This function is triggered when the login form is submitted. It prevents the\n     * default form submission behavior, sends a POST request to the server with \n     * the username and password, and handles the server response.\n     */\n    const handleSubmit = (event) => {\n        event.preventDefault();  // Prevents default form submission\n\n        // Send POST request to the login endpoint\n        axios.post('/api/login/', {\n            username,  // Send username from the form input\n            password,  // Send password from the form input\n        })\n            .then(response => {\n\n                // Store the authentication token in localStorage\n                localStorage.setItem('token', response.data.access);\n\n                // Stores the user ID in localStorage\n                localStorage.setItem('userId', response.data.user.id);\n\n                // Redirect the user to the homepage after successful login\n                navigate('/');\n            })\n            .catch(error => {\n                // Handle login failure by displaying an error message\n                console.error(\"Login Error:\", error);\n                setError('Enter with a valid ID or password.');\n            });\n    };\n\n    return (\n        <div className=\"d-flex justify-content-center align-items-center\" style={{ height: '100vh' }}>\n            {/* Left section with branding */}\n            <div className=\"text-center\" style={{ marginRight: '150px' }}>\n                <h1>Books&Films</h1>\n                <p>Share ideas about books and films!</p>\n            </div>\n\n            {/* Login form */}\n            <form className=\"p-3\" onSubmit={handleSubmit}>\n                <div className=\"w-100 custom_bg rounded p-4\">\n                    {/* Header section with title */}\n                    <div className=\"text-center mb-4\">\n                        <h2 className=\"fs-1\">Login</h2>\n\n                        {/* Display error message if login fails */}\n                        {passwordError && (\n                            <div className=\"alert alert-danger mt-3 text-center\">\n                                {passwordError}\n                            </div>\n                        )}\n                    </div>\n\n                    {/* Username input field */}\n                    <div className=\"mb-3\">\n                        <input\n                            type=\"text\"\n                            className=\"form-control form-control-lg\"\n                            placeholder=\"Username\"\n                            value={username}\n                            onChange={(e) => setUsername(e.target.value)}\n                        />\n                    </div>\n\n                    {/* Password input field */}\n                    <div className=\"mb-3\">\n                        <input\n                            type=\"password\"\n                            className=\"form-control form-control-lg\"\n                            placeholder=\"Password\"\n                            value={password}\n                            onChange={(e) => setPassword(e.target.value)}\n                        />\n                    </div>\n\n                    {/* Submit button */}\n                    <div className=\"d-grid\">\n                        <button type=\"submit\" className=\"btn btn-primary btn-lg\">\n                            Login\n                        </button>\n                    </div>\n\n                    {/* Registration link for users without an account */}\n                    <div className=\"text-center m-4\">\n                        <p>\n                            Don't have an account yet? You can register\n                            <Link className=\"text-primary\" to=\"/register\"> here</Link>\n                        </p>\n                    </div>\n                </div>\n            </form>\n        </div>\n    );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}