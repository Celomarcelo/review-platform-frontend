{"ast":null,"code":"import React,{useState}from'react';import{useParams,useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PasswordResetConfirm=()=>{const{uidb64,token}=useParams();const[password,setPassword]=useState('');const[passwordConfirm,setPasswordConfirm]=useState('');const[message,setMessage]=useState('');const[error,setError]=useState('');const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();if(password!==passwordConfirm){setError('Passwords do not match.');return;}try{await axios.post(`/reset/${uidb64}/${token}/`,{password});setMessage('Password has been reset successfully. Redirecting to login...');setError('');setTimeout(()=>navigate('/api/login/'),3000);}catch(error){setError('Failed to reset password. The link may have expired.');console.error('Error:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"password-reset-confirm\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reset Your Password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"New Password:\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Confirm New Password:\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:passwordConfirm,onChange:e=>setPasswordConfirm(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Reset Password\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{children:message}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error})]});};export default PasswordResetConfirm;","map":{"version":3,"names":["React","useState","useParams","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","PasswordResetConfirm","uidb64","token","password","setPassword","passwordConfirm","setPasswordConfirm","message","setMessage","error","setError","navigate","handleSubmit","e","preventDefault","post","setTimeout","console","className","children","onSubmit","type","value","onChange","target","required","style","color"],"sources":["/Users/marcelotavares/Desktop/newBooks/newBooksFrontend/review-platform-frontend/src/components/PasswordResetConfirm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst PasswordResetConfirm = () => {\n    const { uidb64, token } = useParams();\n    const [password, setPassword] = useState('');\n    const [passwordConfirm, setPasswordConfirm] = useState('');\n    const [message, setMessage] = useState('');\n    const [error, setError] = useState('');\n    const navigate = useNavigate();\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        if (password !== passwordConfirm) {\n            setError('Passwords do not match.');\n            return;\n        }\n\n        try {\n            await axios.post(`/reset/${uidb64}/${token}/`, { password });\n            setMessage('Password has been reset successfully. Redirecting to login...');\n            setError('');\n            setTimeout(() => navigate('/api/login/'), 3000);\n        } catch (error) {\n            setError('Failed to reset password. The link may have expired.');\n            console.error('Error:', error);\n        }\n    };\n\n    return (\n        <div className=\"password-reset-confirm\">\n            <h2>Reset Your Password</h2>\n            <form onSubmit={handleSubmit}>\n                <label>\n                    New Password:\n                    <input\n                        type=\"password\"\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                        required\n                    />\n                </label>\n                <label>\n                    Confirm New Password:\n                    <input\n                        type=\"password\"\n                        value={passwordConfirm}\n                        onChange={(e) => setPasswordConfirm(e.target.value)}\n                        required\n                    />\n                </label>\n                <button type=\"submit\">Reset Password</button>\n            </form>\n            {message && <p>{message}</p>}\n            {error && <p style={{ color: 'red' }}>{error}</p>}\n        </div>\n    );\n};\n\nexport default PasswordResetConfirm;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,oBAAoB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAAEC,MAAM,CAAEC,KAAM,CAAC,CAAGT,SAAS,CAAC,CAAC,CACrC,KAAM,CAACU,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACa,eAAe,CAAEC,kBAAkB,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACiB,KAAK,CAAEC,QAAQ,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAmB,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAkB,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC9BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAIX,QAAQ,GAAKE,eAAe,CAAE,CAC9BK,QAAQ,CAAC,yBAAyB,CAAC,CACnC,OACJ,CAEA,GAAI,CACA,KAAM,CAAAf,KAAK,CAACoB,IAAI,CAAC,UAAUd,MAAM,IAAIC,KAAK,GAAG,CAAE,CAAEC,QAAS,CAAC,CAAC,CAC5DK,UAAU,CAAC,+DAA+D,CAAC,CAC3EE,QAAQ,CAAC,EAAE,CAAC,CACZM,UAAU,CAAC,IAAML,QAAQ,CAAC,aAAa,CAAC,CAAE,IAAI,CAAC,CACnD,CAAE,MAAOF,KAAK,CAAE,CACZC,QAAQ,CAAC,sDAAsD,CAAC,CAChEO,OAAO,CAACR,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAClC,CACJ,CAAC,CAED,mBACIV,KAAA,QAAKmB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACnCtB,IAAA,OAAAsB,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAC5BpB,KAAA,SAAMqB,QAAQ,CAAER,YAAa,CAAAO,QAAA,eACzBpB,KAAA,UAAAoB,QAAA,EAAO,eAEH,cAAAtB,IAAA,UACIwB,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEnB,QAAS,CAChBoB,QAAQ,CAAGV,CAAC,EAAKT,WAAW,CAACS,CAAC,CAACW,MAAM,CAACF,KAAK,CAAE,CAC7CG,QAAQ,MACX,CAAC,EACC,CAAC,cACR1B,KAAA,UAAAoB,QAAA,EAAO,uBAEH,cAAAtB,IAAA,UACIwB,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEjB,eAAgB,CACvBkB,QAAQ,CAAGV,CAAC,EAAKP,kBAAkB,CAACO,CAAC,CAACW,MAAM,CAACF,KAAK,CAAE,CACpDG,QAAQ,MACX,CAAC,EACC,CAAC,cACR5B,IAAA,WAAQwB,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,gBAAc,CAAQ,CAAC,EAC3C,CAAC,CACNZ,OAAO,eAAIV,IAAA,MAAAsB,QAAA,CAAIZ,OAAO,CAAI,CAAC,CAC3BE,KAAK,eAAIZ,IAAA,MAAG6B,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAAR,QAAA,CAAEV,KAAK,CAAI,CAAC,EAChD,CAAC,CAEd,CAAC,CAED,cAAe,CAAAT,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}