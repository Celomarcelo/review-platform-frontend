{"ast":null,"code":"import React from'react';import{Link,useNavigate}from'react-router-dom';import{useState}from'react';import axios from'axios';/**\n * Navbar Component\n * \n * This component renders the navigation bar for the application, providing \n * links to different sections.\n * It also includes a search bar. The navbar is responsive and collapses on \n * smaller screens, with a toggle button to expand it.\n */import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Navbar(_ref){let{onSearch,clearSearch}=_ref;// Retrieve the authentication token from localStorage\nconst token=localStorage.getItem('token');const navigate=useNavigate();const[searchTerm,setSearchTerm]=useState('');const handleSearchChange=e=>{setSearchTerm(e.target.value);};const handleSearchSubmit=async e=>{e.preventDefault();try{const response=await axios.get('/reviews/search',{params:{q:searchTerm},headers:{'Authorization':`Bearer ${token}`}});onSearch(response.data);}catch(error){console.error('Error searching:',error);}};const handleClearSearch=()=>{setSearchTerm('');clearSearch();};/**\n     * handleLogout\n     * \n     * This function clears the user's authentication token and userId from localStorage.\n     * It also redirects the user to the login page after logging out.\n     */const handleLogout=()=>{const confirmLogout=window.confirm(\"Are you sure you want to log out?\");if(confirmLogout){localStorage.removeItem('token');localStorage.removeItem('userId');navigate('/api/login/');}};return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark bg-dark\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[token?/*#__PURE__*/_jsx(Link,{className:\"navbar-brand\",to:\"/\",children:\"Books&Films\"}):/*#__PURE__*/_jsx(\"span\",{className:\"navbar-brand\",children:\"Books&Films\"}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarNav\",\"aria-controls\":\"navbarNav\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarNav\",children:[/*#__PURE__*/_jsx(\"ul\",{className:\"navbar-nav me-auto mb-2 mb-lg-0\",children:token?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/reviews/create/\",children:\"Create Review\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/profile/\",children:\"Profile\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger nav-link\",onClick:handleLogout,children:\"Logout\"})})]}):/*#__PURE__*/ // If no token (user is not logged in), only show the Login link\n_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/api/login/\",children:\"Login\"})})}),token&&/*#__PURE__*/_jsxs(\"form\",{className:\"d-flex\",onSubmit:handleSearchSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control me-2\",type:\"search\",placeholder:\"Search\",\"aria-label\":\"Search\",value:searchTerm,onChange:handleSearchChange}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-success\",type:\"submit\",children:\"Search\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary ms-2\",type:\"button\",onClick:handleClearSearch,children:\"Clear\"})]})]})]})});}export default Navbar;","map":{"version":3,"names":["React","Link","useNavigate","useState","axios","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Navbar","_ref","onSearch","clearSearch","token","localStorage","getItem","navigate","searchTerm","setSearchTerm","handleSearchChange","e","target","value","handleSearchSubmit","preventDefault","response","get","params","q","headers","data","error","console","handleClearSearch","handleLogout","confirmLogout","window","confirm","removeItem","className","children","to","type","id","onClick","onSubmit","placeholder","onChange"],"sources":["/Users/marcelotavares/Desktop/newBooks/newBooksFrontend/review-platform-frontend/src/components/NavBar.js"],"sourcesContent":["import React from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useState } from 'react';\nimport axios from 'axios';\n\n/**\n * Navbar Component\n * \n * This component renders the navigation bar for the application, providing \n * links to different sections.\n * It also includes a search bar. The navbar is responsive and collapses on \n * smaller screens, with a toggle button to expand it.\n */\nfunction Navbar({ onSearch, clearSearch }) {\n    // Retrieve the authentication token from localStorage\n    const token = localStorage.getItem('token');\n    const navigate = useNavigate();\n    const [searchTerm, setSearchTerm] = useState('');\n\n    const handleSearchChange = (e) => {\n        setSearchTerm(e.target.value);\n    };\n\n    const handleSearchSubmit = async (e) => {\n        e.preventDefault();\n\n\n        try {\n            const response = await axios.get('/reviews/search', {\n                params: { q: searchTerm },\n                headers: { 'Authorization': `Bearer ${token}` }\n            });\n            onSearch(response.data);\n        } catch (error) {\n            console.error('Error searching:', error);\n        }\n    };\n\n    const handleClearSearch = () => {\n        setSearchTerm('');\n        clearSearch();\n    };\n\n    /**\n     * handleLogout\n     * \n     * This function clears the user's authentication token and userId from localStorage.\n     * It also redirects the user to the login page after logging out.\n     */\n    const handleLogout = () => {\n        const confirmLogout = window.confirm(\"Are you sure you want to log out?\");\n        if (confirmLogout) {\n            localStorage.removeItem('token');\n            localStorage.removeItem('userId');\n            navigate('/api/login/');\n        }\n    };\n    return (\n        <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n            <div className=\"container-fluid\">\n                {/* Branding - The name of the application */}\n                {token ? (\n                    <Link className=\"navbar-brand\" to=\"/\">Books&Films</Link>\n                ) : (\n                    <span className=\"navbar-brand\">Books&Films</span>\n                )}\n\n                {/* Toggle button for collapsing navbar on smaller screens */}\n                <button\n                    className=\"navbar-toggler\"\n                    type=\"button\"\n                    data-bs-toggle=\"collapse\"\n                    data-bs-target=\"#navbarNav\"\n                    aria-controls=\"navbarNav\"\n                    aria-expanded=\"false\"\n                    aria-label=\"Toggle navigation\"\n                >\n                    <span className=\"navbar-toggler-icon\"></span>\n                </button>\n\n                {/* Navbar links and search form */}\n                <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n                    {/* Links to different sections of the application */}\n                    <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\n                        {/* If the user is logged in (token exists), show the authenticated links */}\n                        {token ? (\n                            <>\n                                <li className=\"nav-item\">\n                                    <Link className=\"nav-link\" to=\"/\">Home</Link>\n                                </li>\n                                <li className=\"nav-item\">\n                                    <Link className=\"nav-link\" to=\"/reviews/create/\">Create Review</Link>\n                                </li>\n                                <li className=\"nav-item\">\n                                    <Link className=\"nav-link\" to=\"/profile/\">Profile</Link>\n                                </li>\n                                <li className=\"nav-item\">\n                                    <button\n                                        className=\"btn btn-danger nav-link\"\n                                        onClick={handleLogout}\n                                    >\n                                        Logout\n                                    </button>\n                                </li>\n                            </>\n                        ) : (\n                            // If no token (user is not logged in), only show the Login link\n                            <li className=\"nav-item\">\n                                <Link className=\"nav-link\" to=\"/api/login/\">Login</Link>\n                            </li>\n                        )}\n                    </ul>\n\n                    {/* Search bar form */}\n                    {/* Search bar, visible only when the user is logged in */}\n                    {token && (\n                        <form className=\"d-flex\" onSubmit={handleSearchSubmit}>\n                            <input\n                                className=\"form-control me-2\"\n                                type=\"search\"\n                                placeholder=\"Search\"\n                                aria-label=\"Search\"\n                                value={searchTerm}\n                                onChange={handleSearchChange}\n                            />\n                            <button className=\"btn btn-outline-success\" type=\"submit\">Search</button>\n                            <button className=\"btn btn-outline-secondary ms-2\" type=\"button\" onClick={handleClearSearch}>\n                                Clear\n                            </button>\n                        </form>\n                    )}\n                </div>\n            </div>\n        </nav>\n    );\n}\n\nexport default Navbar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}